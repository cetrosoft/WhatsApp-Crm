# ===========================================
# Environment Configuration Template
# Omnichannel CRM SaaS Platform
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ===========================================
# Supabase Configuration
# ===========================================
# Get these from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
SUPABASE_URL=https://xxxxxxxxxxxxx.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxxxx...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxxxx...

# ===========================================
# JWT Configuration
# ===========================================
# Generate a strong secret key for JWT tokens
# Example: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-min-32-characters-long-change-this

# ===========================================
# Application Configuration
# ===========================================
NODE_ENV=development
PORT=5000

# Frontend URL (for CORS and email links)
FRONTEND_URL=http://localhost:5173

# ===========================================
# Email Configuration (for invitations)
# ===========================================
# Option 1: Gmail
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password  # Get from: https://myaccount.google.com/apppasswords

# Option 2: SendGrid
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASS=your-sendgrid-api-key

# Option 3: Mailgun
# SMTP_HOST=smtp.mailgun.org
# SMTP_PORT=587
# SMTP_USER=postmaster@your-domain.mailgun.org
# SMTP_PASS=your-mailgun-password

# Email sender info
EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME=Omnichannel CRM Platform

# ===========================================
# Stripe Configuration (Module 5: Billing)
# ===========================================
# Get these from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_xxxxx  # Use sk_test_ for development, sk_live_ for production
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxx  # From Stripe webhook settings

# Stripe Product/Price IDs (create these in Stripe Dashboard)
STRIPE_PRICE_STARTER_MONTHLY=price_xxxxx
STRIPE_PRICE_STARTER_YEARLY=price_xxxxx
STRIPE_PRICE_PRO_MONTHLY=price_xxxxx
STRIPE_PRICE_PRO_YEARLY=price_xxxxx
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_xxxxx
STRIPE_PRICE_ENTERPRISE_YEARLY=price_xxxxx

# ===========================================
# WhatsApp Configuration (Module 1)
# ===========================================
# Session storage directory
WHATSAPP_SESSION_PATH=./whatsapp-sessions

# Puppeteer options
PUPPETEER_HEADLESS=false  # Set to true in production
PUPPETEER_EXECUTABLE_PATH=  # Leave empty to use bundled Chrome

# ===========================================
# File Upload Configuration
# ===========================================
# Maximum file size in bytes (50MB default)
MAX_FILE_SIZE=52428800

# Allowed file types (comma-separated MIME types)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,audio/mpeg,audio/ogg,video/mp4,video/webm,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# ===========================================
# Rate Limiting
# ===========================================
# API rate limit (requests per window)
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes in milliseconds

# WhatsApp message rate limit (per organization)
WHATSAPP_MESSAGE_LIMIT_PER_DAY=500

# ===========================================
# Logging Configuration
# ===========================================
LOG_LEVEL=info  # error, warn, info, debug
LOG_FORMAT=json  # json or simple

# ===========================================
# CORS Configuration
# ===========================================
# Allowed origins (comma-separated)
CORS_ORIGIN=http://localhost:5173,http://localhost:3000

# ===========================================
# Database Configuration (Optional - Supabase handles this)
# ===========================================
# Only needed if connecting directly to PostgreSQL
# DATABASE_URL=postgresql://postgres:password@localhost:5432/whatsapp_saas

# ===========================================
# Redis Configuration (Optional - for caching/queues)
# ===========================================
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=

# ===========================================
# Feature Flags
# ===========================================
# Enable/disable features during development
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_TWO_FACTOR_AUTH=false

# ===========================================
# Monitoring & Analytics (Optional)
# ===========================================
# Sentry for error tracking
# SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# Google Analytics
# GA_TRACKING_ID=G-XXXXXXXXXX

# ===========================================
# Development Tools
# ===========================================
# Enable debug mode (verbose logging)
DEBUG=false

# Enable API documentation (Swagger)
ENABLE_API_DOCS=true

# ===========================================
# Production Configuration
# ===========================================
# When deploying to production, update these:
# - NODE_ENV=production
# - FRONTEND_URL=https://app.yourdomain.com
# - Use STRIPE_SECRET_KEY with sk_live_ prefix
# - Set PUPPETEER_HEADLESS=true
# - Use strong JWT_SECRET (min 32 characters)
# - Configure production email service (SendGrid/Mailgun)
# - Set up SSL certificates
# - Enable rate limiting
# - Configure monitoring (Sentry)

# ===========================================
# Notes
# ===========================================
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in all required values
# 3. Add .env to .gitignore (should already be there)
# 4. NEVER commit .env to version control
# 5. For production, use environment variables from your hosting provider
# 6. Rotate secrets regularly (JWT_SECRET, API keys)
# 7. Use strong, unique passwords for all services
